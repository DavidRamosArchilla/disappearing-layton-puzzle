(function(){var e={5723:function(e,t,o){"use strict";var l=o(9242),n=o(7729),i=o(3396),a=o(7139),r=o.p+"img/layton_sign.afb4939f.png";const s=e=>((0,i.dD)("data-v-50a242cc"),e=e(),(0,i.Cn)(),e),d={class:"container"},c=s((()=>(0,i._)("p",null," You have solved the puzzle! Now, you can try to solve the rest of the puzzles, good luck with them. ",-1))),u={class:"left-side"},h=s((()=>(0,i._)("div",{class:"image-container"},[(0,i._)("img",{src:r,alt:"Image",class:"sign"})],-1))),p=s((()=>(0,i._)("div",{class:"rules"},[(0,i._)("h2",null,"How to play "),(0,i._)("p",null," The rules are simple--you can move any ball on the board below as long as it satisfies the following conditions: "),(0,i._)("ul",null,[(0,i._)("li",null," To move, jump your selected ball over an adjacent space occupied by another ball into an empty space on the other side. You can't jump diagonally. "),(0,i._)("li",null," Once you've made the jump, the ball you jumped over disappears from the board. "),(0,i._)("li",null," To complete the puzzle, you must remove all balls from the board except for one. ")]),(0,i._)("p",null,"OK, enough rules. Try for yourself!")],-1))),v={class:"buttons_container"},b={class:"content"},f=s((()=>(0,i._)("footer",null,[(0,i._)("div",{class:"footer-content"},[(0,i._)("p",null,[(0,i.Uk)("See this project on "),(0,i._)("a",{href:"https://github.com/DavidRamosArchilla/disappearing-layton-puzzle",target:"_blank"},"GitHub")])])],-1)));function m(e,t,o,l,n,r){const s=(0,i.up)("Dialog"),m=(0,i.up)("Button"),g=(0,i.up)("Dropdown"),z=(0,i.up)("GameBoard");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",d,[(0,i.Wm)(s,{visible:n.isGameOver,"onUpdate:visible":t[0]||(t[0]=e=>n.isGameOver=e),position:"top",modal:"",header:"Well Done!",style:{width:"50vw"}},{default:(0,i.w5)((()=>[c])),_:1},8,["visible"]),(0,i._)("div",u,[h,p,(0,i._)("div",v,[(0,i.Wm)(m,{label:"Reset board",onClick:r.resetBoard,style:{backgroundColor:"#3e61a3",color:"#fff",marginRight:"10px"},class:"p-mr-2"},null,8,["onClick"]),(0,i.Wm)(g,{class:"puzzle_selector",options:n.dropdownOptions,modelValue:n.selectedOption,"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedOption=e),optionLabel:"label",placeholder:"Puzzle 1"},null,8,["options","modelValue"])])]),(0,i._)("div",{class:"right-side",style:(0,a.j5)(r.backgroundStyle)},[(0,i._)("div",b,[(0,i.Wm)(z,{ref:"gameBoard",onGameOver:r.handleGameOver,puzzleId:n.selectedOption.value},null,8,["onGameOver","puzzleId"])])],4)]),f],64)}const g=e=>((0,i.dD)("data-v-b447970a"),e=e(),(0,i.Cn)(),e),z={class:"gameboard"},w=["onDrop"],P=["onClick","onDragstart"],_=["src"],O=["onClick"],y=g((()=>(0,i._)("div",{class:"gray-circle"},null,-1))),x=[y];function I(e,t,o,n,r,s){return(0,i.wg)(),(0,i.iD)("div",z,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.board,((e,o)=>((0,i.wg)(),(0,i.iD)("div",{key:o,class:"row"},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e,((e,n)=>((0,i.wg)(),(0,i.iD)("div",{key:n,class:(0,a.C_)(["square",{non_empty:null!=e}]),onDragover:t[0]||(t[0]=(0,l.iM)((()=>{}),["prevent"])),onDrop:e=>s.handleDrop(o,n)},[1===e?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"piece",draggable:"true",onClick:e=>s.handleClickOnBall(o,n),onDragstart:e=>s.handleDragStart(e,o,n)},[(0,i._)("img",{src:s.getPieceImage(e),alt:"Piece"},null,8,_)],40,P)):(0,i.kq)("",!0),2===e?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"piece",draggable:"false",onClick:e=>s.handleBallMoved(o,n)},x,8,O)):(0,i.kq)("",!0)],42,w)))),128))])))),128))])}var k={data(){return{board:this.getInitalBoard(),selectedPiece:null,selectedPiecePosition:null,ballToRemove:null}},props:{puzzleId:{type:Number,required:!0}},methods:{getInitalBoard(){const e=o(6672)("./puzzle_"+this.puzzleId+".json");var t=e.board;return t=t.map((e=>e.map((e=>-1===e?null:e)))),t},getPieceImage(e){if(1===e)return o(4226)},handleDragStart(e,t,o){this.board[t][o]&&(this.selectedPiece=this.board[t][o],this.selectedPiecePosition={rowIndex:t,colIndex:o},e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",""))},handleDrop(e,t){this.selectedPiece&&this.isValidSquare(e,t)&&this.handleBallMoved(e,t)},handleClickOnBall(e,t){this.selectedPiece=this.board[e][t],this.selectedPiecePosition={rowIndex:e,colIndex:t},this.removeHighlightedSquares(),this.isValidClickableSquare(e+2,t)&&(this.board[e+2][t]=2),this.isValidClickableSquare(e,t+2)&&(this.board[e][t+2]=2),this.isValidClickableSquare(e-2,t)&&(this.board[e-2][t]=2),this.isValidClickableSquare(e,t-2)&&(this.board[e][t-2]=2)},handleBallMoved(e,t){this.board[e][t]=1,this.board[this.selectedPiecePosition.rowIndex][this.selectedPiecePosition.colIndex]=0,this.selectedPiece=null,this.selectedPiecePosition=null,this.removeBall(this.ballToRemove.rowIndex,this.ballToRemove.colIndex),this.removeHighlightedSquares(),this.isGameOver()&&this.announceGameOver()},isValidClickableSquare(e,t){return e<this.board.length&&e>=0&&e<this.board[e].length&&t>=0&&0===this.board[e][t]&&this.thereIsBallBetween(e,t)},removeHighlightedSquares(){this.board=this.board.map((e=>e.map((e=>2===e?0:e))))},isGameOver(){const e=e=>e.flat().filter((e=>1===e)).length;return 1===e(this.board)},isValidSquare(e,t){return(0===this.board[e][t]||2===this.board[e][t])&&(e!==this.selectedPiecePosition.rowIndex||t!==this.selectedPiecePosition.colIndex)&&this.thereIsBallBetween(e,t)},thereIsBallBetween(e,t){if(2===Math.abs(this.selectedPiecePosition.rowIndex-e)&&this.selectedPiecePosition.colIndex-t===0){const o=Math.max(this.selectedPiecePosition.rowIndex,e)-1;if(1===this.board[o][t])return this.ballToRemove={rowIndex:o,colIndex:t},!0}else if(this.selectedPiecePosition.rowIndex-e===0&&2===Math.abs(this.selectedPiecePosition.colIndex-t)){const o=Math.max(this.selectedPiecePosition.colIndex,t)-1;if(1===this.board[e][o])return this.ballToRemove={rowIndex:e,colIndex:o},!0}return!1},removeBall(e,t){this.board[e][t]=0},resetBoard(){this.board=this.getInitalBoard()},announceGameOver(){this.$emit("gameOver")}},watch:{puzzleId:{immediate:!0,handler(){this.board=this.getInitalBoard()}}}},D=o(89);const B=(0,D.Z)(k,[["render",I],["__scopeId","data-v-b447970a"]]);var S=B,j=o(1540),C=o(7211),G=o(3732),q={components:{GameBoard:S,Button:j.Z,Dialog:C.Z,Dropdown:G.Z},data(){return{isGameOver:!1,scrollPosition:0,dropdownOptions:[{label:"Puzzle 1",value:1},{label:"Puzzle 2",value:2},{label:"Puzzle 3",value:3},{label:"Puzzle 4",value:4},{label:"Puzzle 5",value:5},{label:"Puzzle 6",value:6}],selectedOption:{label:"Puzzle 1",value:1}}},computed:{backgroundStyle(){const e=`calc(-${this.scrollPosition}px / 5)`;return{background:`url('layton_background.png') no-repeat center ${e}`,backgroundSize:"cover"}}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){this.scrollPosition=window.scrollY},resetBoard(){this.$refs.gameBoard.resetBoard(),this.isGameOver=!1},handleGameOver(){this.isGameOver=!0}}};const T=(0,D.Z)(q,[["render",m],["__scopeId","data-v-50a242cc"]]);var M=T;const N=(0,l.ri)(M);N.use(n.ZP),N.mount("#app")},6672:function(e,t,o){var l={"./puzzle_1.json":6424,"./puzzle_2.json":2906,"./puzzle_3.json":2943,"./puzzle_4.json":6958,"./puzzle_5.json":2694,"./puzzle_6.json":4741};function n(e){var t=i(e);return o(t)}function i(e){if(!o.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=i,e.exports=n,n.id=6672},4226:function(e,t,o){"use strict";e.exports=o.p+"img/ball.0f062d3d.png"},6424:function(e){"use strict";e.exports=JSON.parse('{"board":[[-1,-1,0,0,0,-1,-1],[-1,-1,0,1,0,-1,-1],[0,0,1,1,1,0,0],[0,0,0,1,0,0,0],[0,0,0,1,0,0,0],[-1,-1,0,0,0,-1,-1],[-1,-1,0,0,0,-1,-1]]}')},2906:function(e){"use strict";e.exports=JSON.parse('{"board":[[-1,-1,0,0,0,-1,-1],[-1,-1,0,1,0,-1,-1],[0,0,0,1,0,0,0],[0,1,1,1,1,1,0],[0,0,0,1,0,0,0],[-1,-1,0,1,0,-1,-1],[-1,-1,0,0,0,-1,-1]]}')},2943:function(e){"use strict";e.exports=JSON.parse('{"board":[[-1,-1,0,0,0,-1,-1],[-1,-1,0,1,0,-1,-1],[0,0,1,1,1,0,0],[0,1,1,1,1,1,0],[1,1,1,1,1,1,1],[-1,-1,0,0,0,-1,-1],[-1,-1,0,0,0,-1,-1]]}')},6958:function(e){"use strict";e.exports=JSON.parse('{"board":[[-1,-1,0,0,0,-1,-1],[-1,-1,0,0,0,-1,-1],[0,0,0,0,0,0,0],[0,0,1,0,1,0,0],[0,0,1,1,1,0,0],[-1,-1,1,1,1,-1,-1],[-1,-1,1,1,1,-1,-1]]}')},2694:function(e){"use strict";e.exports=JSON.parse('{"board":[[-1,-1,0,1,0,-1,-1],[-1,-1,1,1,1,-1,-1],[0,1,1,1,1,1,0],[1,1,1,0,1,1,1],[0,1,1,1,1,1,0],[-1,-1,1,1,1,-1,-1],[-1,-1,0,1,0,-1,-1]]}')},4741:function(e){"use strict";e.exports=JSON.parse('{"board":[[-1,-1,1,1,1,-1,-1],[-1,-1,1,1,1,-1,-1],[1,1,1,1,1,1,1],[1,1,1,0,1,1,1],[1,1,1,1,1,1,1],[-1,-1,1,1,1,-1,-1],[-1,-1,1,1,1,-1,-1]]}')}},t={};function o(l){var n=t[l];if(void 0!==n)return n.exports;var i=t[l]={exports:{}};return e[l].call(i.exports,i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,l,n,i){if(!l){var a=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],i=e[c][2];for(var r=!0,s=0;s<l.length;s++)(!1&i||a>=i)&&Object.keys(o.O).every((function(e){return o.O[e](l[s])}))?l.splice(s--,1):(r=!1,i<a&&(a=i));if(r){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[l,n,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.p="/disappearing-layton-puzzle/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,i,a=l[0],r=l[1],s=l[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(s)var c=s(o)}for(t&&t(l);d<a.length;d++)i=a[d],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(c)},l=self["webpackChunkdisappearing_layton_puzzle"]=self["webpackChunkdisappearing_layton_puzzle"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=o.O(void 0,[998],(function(){return o(5723)}));l=o.O(l)})();
//# sourceMappingURL=app.99039dfa.js.map